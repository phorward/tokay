# build

This folder contains triggers for building parts of Tokay using Tokay itself.

## `make builtins` - update Tokay's builtin registry from the Rust sources

Generate the file `src/_builtins.rs` using `src/_builtins.tok`.

- `make builtins` updates the content of `src/_builtins.rs` using `src/_builtins.tok` from the Rust sources.
- `make show-builtins` dumps what would be generated by `make builtins`
- `make reset-builtins` resets `src/_builtins.rs` from git, if something went wrong.

## `make parser` - update Tokay's parser from `tokay.tok`

Tokay uses a program written in itself (`src/compiler/tokay.tok`) to generate its own language parser (`src/compiler/parser.rs`) incrementally.

- `make parser` updates the content of `src/compiler/parser.rs` from `src/compiler/tokay.tok`.
- `make show-parser` dumps what would be generated by `make parser`
- `make reset-parser` resets `src/compiler/parser.rs` from git, if something went wrong.

## `make prelude` - update Tokay's prelude from `prelude.tok`

Tokay needs the prelude to provide general language features and defaults.

- `make prelude` updates the content of `src/compiler/prelude.rs` from `src/prelude.tok`.
- `make show-prelude` dumps what would be generated by `make prelude`
- `make reset-prelude` resets `src/compiler/prelude.rs` from git, if something went wrong.
